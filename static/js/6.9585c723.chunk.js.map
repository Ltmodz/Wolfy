{"version":3,"sources":["styled_components/Store/StoreContainer.js","styled_components/Store/StoreHeader.js","components/Store/Store.js"],"names":["styled","div","h1","DepartmentList","React","lazy","ProductList","Paginator","Store","_productName","useState","departments","setDepartments","products","setProducts","promoCode","setPromoCode","page","setPage","departmentId","setDepartmentId","totalCount","setTotalCount","useEffect","axios","get","then","response","console","log","data","total_count","StoreContainer","StoreHeader","fallback","departmentSelected","id","PromoCodeEntered","code","selectedPage"],"mappings":"0ZAEeA,UAAOC,IAAtB,K,oICAeD,UAAOE,GAAtB,K,wCCKA,IAAMC,EAAiBC,IAAMC,MAAK,kBAAI,gCAChCC,EAAcF,IAAMC,MAAK,kBAAI,gCAC7BE,EAAYH,IAAMC,MAAK,kBAAI,gCAElB,SAASG,EAAT,GAAgC,IAAhBC,EAAe,EAAfA,aAAe,EACLC,mBAAS,IADJ,mBACnCC,EADmC,KACvBC,EADuB,OAEXF,mBAAS,IAFE,mBAEnCG,EAFmC,KAE1BC,EAF0B,OAGTJ,mBAAS,IAHA,mBAGnCK,EAHmC,KAGzBC,EAHyB,OAInBN,mBAAS,GAJU,mBAInCO,EAJmC,KAI9BC,EAJ8B,OAKHR,mBAAS,IALN,mBAKnCS,EALmC,KAKtBC,EALsB,OAMPV,mBAAS,GANF,mBAMnCW,EANmC,KAMxBC,EANwB,KA+B1C,OAxBAC,qBAAU,WACNC,IAAMC,IAAI,qCAAqCC,MAAK,SAAAC,GAChDC,QAAQC,IAAIF,EAASG,KAAKnB,aAC1BC,EAAee,EAASG,KAAKnB,kBAEnC,IAEFY,qBAAU,WACNL,EAAQD,GACRO,IAAMC,IAAN,+DAAkEV,EAAlE,yBAA4FN,EAA5F,gCAAgIU,EAAhI,YAAuJO,MAAK,SAAAC,GACxJC,QAAQC,IAAIF,EAASG,MACrBhB,EAAYa,EAASG,KAAKjB,UAC1BS,EAAcK,EAASG,KAAKC,kBAElC,CAAChB,EAAUI,EAAaV,IAE1Bc,qBAAU,WACNC,IAAMC,IAAN,+DAAkEV,EAAlE,yBAA4FN,EAA5F,gCAAgIU,EAAhI,iBAAqJF,IAAQS,MAAK,SAAAC,GAC9JC,QAAQC,IAAIF,EAASG,MACrBhB,EAAYa,EAASG,KAAKjB,UAC1BS,EAAcK,EAASG,KAAKC,kBAElC,CAACd,IAGC,kBAACe,EAAD,KACI,kBAACC,EAAD,sBACA,kBAAC,WAAD,CAAUC,SAAU,4CAClB,kBAAC/B,EAAD,CACAgC,mBAAoB,SAAAC,GAAE,OAAIhB,EAAgBgB,IAC1CC,iBAAkB,SAAAC,GAAI,OAAItB,EAAasB,IACvC3B,YAAaA,IACb,kBAACL,EAAD,CAAaO,SAAUA,IACvB,kBAACN,EAAD,CAAWgC,aAAc,SAAAtB,GAAI,OAAEC,EAAQD,IAAOI,WAAYA","file":"static/js/6.9585c723.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport default styled.div `\n    width:100%;\n    height:100%;\n    display:grid;\n    grid-template-rows: 40px calc(100% - 140px) 80px;\n    grid-template-columns: 20% calc(80% - 20px);\n    grid-gap:20px;\n`;","import styled from \"styled-components\";\n\nexport default styled.h1 `\n    grid-row:1;\n    grid-column:1;\n    text-align:center;\n`;","import React, { Suspense, useState, useEffect } from 'react'\nimport axios from 'axios';\n\nimport StoreContainer from '../../styled_components/Store/StoreContainer'\nimport StoreHeader from '../../styled_components/Store/StoreHeader'\n\n\nconst DepartmentList = React.lazy(()=>import(\"./Departments/DepartmentList\"))\nconst ProductList = React.lazy(()=>import(\"./Products/ProductList\"))\nconst Paginator = React.lazy(()=>import(\"../Paginator/Paginator\"))\n\nexport default function Store({_productName}) {\n    const [departments,setDepartments] = useState([]);\n    const [products,setProducts] = useState([]);\n    const [promoCode,setPromoCode] = useState(\"\");\n    const [page,setPage] = useState(1);\n    const [departmentId,setDepartmentId] = useState(\"\");\n    const [totalCount,setTotalCount] = useState(0);\n    useEffect(()=>{\n        axios.get(\"http://localhost:3001/departments\").then(response=>{\n            console.log(response.data.departments);\n            setDepartments(response.data.departments);\n        })\n    },[]);\n\n    useEffect(()=>{\n        setPage(page);\n        axios.get(`http://localhost:3001/products?q[promotions_code_eq]=${promoCode}&q[name_cont]=${_productName}&q[department_id_eq]=${departmentId}&page=1`).then(response=>{\n            console.log(response.data);\n            setProducts(response.data.products);\n            setTotalCount(response.data.total_count);\n        })\n    },[promoCode,departmentId,_productName]);\n\n    useEffect(()=>{\n        axios.get(`http://localhost:3001/products?q[promotions_code_eq]=${promoCode}&q[name_cont]=${_productName}&q[department_id_eq]=${departmentId}&page=${page}`).then(response=>{\n            console.log(response.data);\n            setProducts(response.data.products);\n            setTotalCount(response.data.total_count);\n        })\n    },[page]);\n\n    return (\n        <StoreContainer>\n            <StoreHeader> Wolfy  store</StoreHeader>\n            <Suspense fallback={<div>loading...</div>}>\n              <DepartmentList  \n              departmentSelected={id => setDepartmentId(id)} \n              PromoCodeEntered={code => setPromoCode(code)} \n              departments={departments}></DepartmentList>\n              <ProductList products={products}></ProductList>\n              <Paginator selectedPage={page=>setPage(page)} totalCount={totalCount}></Paginator>\n            </Suspense>\n            \n        </StoreContainer>\n\n    )\n}\n"],"sourceRoot":""}